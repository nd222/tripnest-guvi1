<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Museum Ticket Booking Chatbot</title>
    <link rel="stylesheet" href="chatcss.css">
    <link href="https://db.onlinewebfonts.com/c/6bff5f8f85a7385fbdc21a8f724dd8ac?family=Rajasthan+Regular"
        rel="stylesheet">
    <style>
        .goog-te-gadget .goog-te-combo {
            margin: 4px 0;
            padding: 5px;
            border-radius: 20px;
        }

        #timing {
            margin-bottom: 15px;
        }

        .dropbtn {
            background-color: #04AA6D;
            color: white;
            padding: 10px;
            font-size: 16px;
            margin-bottom: 10px;
            border: none;
        }

        .dropdown {
            position: relative;
            display: inline-block;
        }

        .dropdown-content {
            display: none;
            position: absolute;
            background-color: #f1f1f1;
            min-width: 160px;
            box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);
            z-index: 1;
        }

        .dropdown-content a {
            color: black;
            min-width: 200px;
            padding: 0px;
            font-size: 15px;
            font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            text-decoration: none;
            display: block;
        }


        .dropdown:hover .dropdown-content {
            display: block;
        }
    </style>
</head>

<body>
    <div id="bg-img">
        <header>
            <div-1>
                <img id="logo" src="photos/logo1.png" alt="">
                <h1>ChatBot-Ticketing System </h1>
            </div-1>
            <div id="google_element"></div>

        </header>


        <div id="top">
            <div class="chat-container">
                <div id="chat-box" class="chat-box">
                    <div class="message bot">Hello! Welcome to our museum. What is your name?</div>
                </div>
                <div id="nameInputContainer">
                    <input type="text" id="user-input" placeholder="Enter your name..." autofocus>
                    <button onclick="sendMessage()">Send</button>
                </div>

                <div id="cityPrompt" class="hidden">
                    <label for="citySelect">Select City:</label>
                    <select id="citySelect" onchange="botReply()">
                        <option value="">--Select a City--</option>
                        <option value="jaipur">Jaipur</option>
                        <option value="udaipur">Udaipur</option>
                        <option value="jodhpur">Jodhpur</option>
                    </select>
                </div>

                <div id="museumPrompt" class="hidden">
                    <label for="museumSelect">Select Museum:</label>
                    <select id="museumSelect" onchange="botReply()">
                        <!-- Options will be populated dynamically -->
                    </select>
                </div>

                <div id="visitorTypePrompt" class="hidden">
                    <label for="visitorTypeSelect">Are you an Indian or Foreigner?</label>
                    <select id="visitorTypeSelect" onchange="botReply()">
                        <option value="">--Select--</option>
                        <option value="indian">Indian</option>
                        <option value="foreigner">Foreigner</option>
                    </select>
                </div>

                <div id="ticketPrompt" class="hidden">
                    <label for="ticketSelect">Number of Tickets:</label>
                    <select id="ticketSelect" onchange="botReply()">
                        <option value="">--Select Number of Tickets--</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                        <option value="9">9</option>
                        <option value="10">10</option>
                    </select>
                </div>

                <div id="datePrompt" class="hidden">
                    <label for="dateSelect">Select Date:</label>
                    <input type="date" id="dateSelect" onchange="botReply()">
                </div>

                <div id="timePrompt" class="hidden">
                    <label for="timeSelect">Select Time Slot:</label>
                    <select id="timeSelect" onchange="botReply()">
                        <option value="">--Select Time Slot--</option>
                        <option value="09:00">09:00 AM</option>
                        <option value="11:00">11:00 AM</option>
                        <option value="14:00">02:00 PM</option>
                    </select>
                </div>

                <div id="priceDisplay" class="hidden">
                    <div id="priceMessage"></div>
                </div>

                <div id="paymentButtonContainer" class="hidden">
                    <button id="payButton" onclick="completePayment()">Complete Payment</button>
                </div>

                <div id="confirmationMessage" class="hidden">
                    <div class="message bot">Your ticket is booked. Thanks for visiting us!</div>
                    <a id='download' href="ticket.html">Download your ticket</a>
                </div>
            </div>

            <div class="right-text">
                <h1>RAJASTHAN</h1>
                <p>
                    Rajasthan, located in the northwest of India, is a state renowned for its rich history, vibrant
                    culture, and stunning landscapes. Known as the "Land of Kings," Rajasthan is home to a vast array of
                    palaces, forts, and temples, each echoing the grandeur of its royal past. The state is famous for
                    cities like Jaipur, Udaipur, Jodhpur, and Jaisalmer, each offering a unique glimpse into Rajasthan's
                    opulent history and architectural splendor.

                    <br>
                    <br>

                    Jaipur, the capital, is often called the "Pink City" due to its rose-colored buildings and houses
                    iconic landmarks such as the Hawa Mahal and Amber Fort. Udaipur, the "City of Lakes," is known for
                    its romantic lakeside palaces, including the famous Lake Palace. Jodhpur, the "Blue City," is
                    dominated by the imposing Mehrangarh Fort, while Jaisalmer, the "Golden City," is famed for its
                    yellow sandstone architecture and the expansive Thar Desert. <br>
                    <br>

                    Rajasthan is also celebrated for its rich cultural traditions, including folk music, dance, and art.
                    The vibrant festivals, colorful attire, and intricate handicrafts reflect the state‚Äôs artistic
                    heritage. Moreover, Rajasthan‚Äôs cuisine, featuring dishes like dal baati churma and ghewar, offers a
                    flavorful journey through its culinary landscape.
                </p>
            </div>
        </div>
    </div>

    <div class="bottom">
        <div id="first">
            <div class="text-content">
                <h1 style="text-decoration: underline;">Albert Hall Museum: Jaipur</h1>
                <p id="museum-p">The Albert Hall Museum, located in Jaipur, India, is a prime example of Indo-Saracenic
                    architecture.
                    Built in 1887, it serves as the state museum of Rajasthan and houses an extensive collection of
                    artifacts, including paintings, carpets, ivory, stone, and metal sculptures. The building itself is
                    an architectural marvel with ornate domes, arches, and detailed carvings. It stands as a symbol of
                    Jaipur's rich cultural heritage. The museum is situated in the Ram Niwas Garden, adding to its
                    scenic beauty.</p>
                <h3 style="text-decoration: underline;">Contact Number:</h3>
                <p id="number">0141 257 0099</p>
                <div class="dropdown">
                    <button class="dropbtn">Timings</button>
                    <div class="dropdown-content">
                        <a href="#">Monday: 09:00 - 21:30</a>
                        <a href="#">Tuesday: 09:00 - 21:30</a>
                        <a href="#">Wednesday: 09:00 - 21:30</a>
                        <a href="#">Thursday: 09:00 - 21:30</a>
                        <a href="#">Friday: 09:00 - 21:30</a>
                        <a href="#">Satuday: 09:00 - 21:30</a>
                        <a href="#">Sunday: 09:00 - 21:30</a>
                    </div>
                </div>
                <br>
                <a href="https://maps.app.goo.gl/6Z1ZeUk1ycLURQ6Q6">üìç Directions</a>
            </div>
            <div class="image-content">
                <img id="museum-img" src="photos/Albert_Hall_Museum_Night_View.jpg" alt="Albert Hall Museum">
            </div>
        </div>
    </div>

    <div class="bottom">
        <div id="first">
            <div class="text-content">
                <h1 style="text-decoration: underline;">City Palace: Jaipur</h1>
                <p id="museum-p">The City Palace in Jaipur is a stunning blend of Rajasthani and Mughal architecture.
                    Built in the
                    18th century by Maharaja Sawai Jai Singh II, it served as the royal residence. The palace complex
                    houses several buildings, courtyards, and museums, including the Chandra Mahal and Mubarak Mahal.
                    Richly decorated with intricate carvings and vibrant colors, it reflects the grandeur of Jaipur‚Äôs
                    royal history. The City Palace remains a significant cultural and historical landmark in Rajasthan.
                </p>
                <h3 style="text-decoration: underline;">Contact Number:</h3>
                <p id="number">0141 408 8888</p>
                <div class="dropdown">
                    <button class="dropbtn">Timings</button>
                    <div class="dropdown-content">
                        <a href="#">Monday: 09:30 - 19:30</a>
                        <a href="#">Tuesday: 09:30 - 19:30</a>
                        <a href="#">Wednesday: 09:30 - 19:30</a>
                        <a href="#">Thursday: 09:30 - 19:30</a>
                        <a href="#">Friday: 09:30 - 19:30</a>
                        <a href="#">Satuday: 09:30 - 19:30</a>
                        <a href="#">Sunday: 09:30 - 19:30</a>
                    </div>
                </div>
                <br>
                <a href="https://maps.app.goo.gl/71hYCuJdZtTHYNwv9">üìç Directions</a>
            </div>
            <div class="image-content">
                <img id="museum-img" src="photos/city_palace_jaipur.jpeg" alt="City Palace: Jaipur">
            </div>
        </div>
    </div>

    </div>
    </div>
    <div class="bottom">
        <div id="first">
            <div class="text-content">
                <h1 style="text-decoration: underline;">Hawa Mehal: Jaipur</h1>
                <p id="museum-p">Hawa Mahal, also known as the "Palace of Winds," is an iconic landmark in Jaipur, built
                    in 1799 by
                    Maharaja Sawai Pratap Singh. This five-story structure is famous for its unique honeycomb-like
                    design with 953 small windows, called jharokhas, which allow cool air to circulate through the
                    palace. The windows were designed so royal women could observe street festivals without being seen.
                    The red and pink sandstone fa√ßade is a striking example of Rajput architecture. Hawa Mahal remains a
                    symbol of Jaipur's rich cultural heritage.</p>


                <h3 style="text-decoration: underline;">Contact Us:</h3></a>
                <p id="number">0141 408 8888</p>
                <div class="dropdown">
                    <button class="dropbtn">Timings</button>
                    <div class="dropdown-content">
                        <a href="#">Monday: 09:00 - 16:30</a>
                        <a href="#">Tuesday: 09:00 - 16:30</a>
                        <a href="#">Wednesday: 09:00 - 16:30</a>
                        <a href="#">Thursday: 09:00 - 16:30</a>
                        <a href="#">Friday: 09:00 - 16:30</a>
                        <a href="#">Satuday: 09:00 - 16:30</a>
                        <a href="#">Sunday: 09:00 - 16:30</a>
                    </div>
                </div>
                <br>
                <a href="https://maps.app.goo.gl/Q1CWRWY4WnCqADxp6">üìç Directions</a>
            </div>
            <div class="image-content">
                <img id="museum-img" src="photos/hawa mehal.png " alt="Hawa Mehal">
            </div>
        </div>
    </div>
    <div class="bottom">
        <div id="first">
            <div class="text-content">
                <h1 style="text-decoration: underline;">City Palace Museum: Udaipur</h1>
                <p id="museum-p">The City Palace Museum in Udaipur, located within the majestic City Palace complex,
                    showcases the
                    rich history and culture of the Mewar dynasty. Established in 1969, the museum displays a vast
                    collection of artifacts, including royal costumes, weapons, paintings, and intricate miniatures.
                    Highlights include the Mor Chowk with its beautiful peacock mosaics and the stunning glasswork of
                    the Sheesh Mahal. The museum offers a glimpse into the opulent lifestyle of Udaipur's rulers. It is
                    a must-visit for anyone interested in the heritage of Rajasthan.

                </p>

                <h3 style="text-decoration: underline;">Contact Us:</h3>
                <p id="number">0141 408 8888</p>
                <div class="dropdown">
                    <button class="dropbtn">Timings</button>
                    <div class="dropdown-content">
                        <a href="#">Monday: 09:00 - 21:00</a>
                        <a href="#">Tuesday: 09:00 - 21:00</a>
                        <a href="#">Wednesday: 09:00 - 21:00</a>
                        <a href="#">Thursday: 09:00 - 21:00</a>
                        <a href="#">Friday: 09:00 - 21:00</a>
                        <a href="#">Satuday: 09:00 - 21:00</a>
                        <a href="#">Sunday: 09:00 - 21:00</a>
                    </div>
                </div>
                <br>

                <a href="https://maps.app.goo.gl/EC4fMncye5GfRm9e6">üìç Directions</a>
            </div>
            <div class="image-content">
                <img id="museum-img" src="photos/Udaipur_City_Palace.jpg" alt="City Palace Museum">
            </div>
        </div>
    </div>
    <div class="bottom">
        <div id="first">
            <div class="text-content">
                <h1 style="text-decoration: underline;">Bagore Ki Haveli: Udaipur</h1>
                <p id="museum-p">
                    Bagore Ki Haveli is a historic mansion located on the banks of Lake Pichola in Udaipur. Built in the
                    18th century by Amar Chand Badwa, the Prime Minister of Mewar, the haveli features over 100 rooms
                    adorned with intricate mirror work, frescoes, and traditional Rajasthani architecture. It has been
                    converted into a museum that showcases royal costumes, artifacts, and an impressive collection of
                    puppets. The haveli also hosts cultural performances, including folk dances and music, providing
                    visitors with a vibrant experience of Rajasthani culture. Bagore Ki Haveli is a prominent cultural
                    landmark in Udaipur.
                </p>

                <h3 style="text-decoration: underline;">Contact Number:</h3>
                <p id="number">02942 422567</p>
                <div class="dropdown">
                    <button class="dropbtn">Timings</button>
                    <div class="dropdown-content">
                        <a href="#">Monday: 10:00 - 19:00</a>
                        <a href="#">Tuesday: 09:00 - 19:00</a>
                        <a href="#">Wednesday: 09:00 - 19:00</a>
                        <a href="#">Thursday: 09:00 - 19:00</a>
                        <a href="#">Friday: 09:00 - 19:00</a>
                        <a href="#">Satuday: 09:00 - 19:00</a>
                        <a href="#">Sunday: 09:00 - 19:00</a>
                    </div>
                </div>
                <br>
                <a href="https://maps.app.goo.gl/1m8BLDSYEpT517nF7">üìç Directions</a>
            </div>
            <div class="image-content">
                <img id="museum-img" src="photos/bagore haveli.jpeg" alt="Bagore Ki Haveli">
            </div>
        </div>
    </div>
    <div class="bottom">
        <div id="first">
            <div class="text-content">
                <h1 style="text-decoration: underline;">Vintage Car Museum: Udaipur</h1>
                <p id="museum-p">The Vintage Car Museum in Udaipur is a fascinating attraction that showcases a
                    collection of classic
                    and rare automobiles owned by the Mewar royal family. Located close to the City Palace, the museum
                    was inaugurated in 2000 and features vintage cars, including Rolls-Royces, Cadillacs, and
                    Mercedes-Benz models, some of which are over 70 years old. Among the highlights is the 1934
                    Rolls-Royce Phantom used in the James Bond film *Octopussy*. The museum offers a glimpse into the
                    luxurious lifestyle of the Udaipur royals and is a must-visit for car enthusiasts.</p>

                <h3 style="text-decoration: underline;">Contact Number:</h3>
                <p id="number">08652 540432</p>
                <div class="dropdown">
                    <button class="dropbtn">Timings</button>
                    <div class="dropdown-content">
                        <a href="#">Monday: 09:00 - 19:30</a>
                        <a href="#">Tuesday: 09:00 - 19:30</a>
                        <a href="#">Wednesday: 09:00 - 19:30</a>
                        <a href="#">Thursday: 09:00 - 19:30</a>
                        <a href="#">Friday: 09:00 - 19:30</a>
                        <a href="#">Satuday: 09:00 - 19:30</a>
                        <a href="#">Sunday: 09:00 - 19:30</a>
                    </div>
                </div>
                <br>
                <a href="https://maps.app.goo.gl/3cxG1Gyv9q3B6e1E9">üìç Directions</a>
            </div>
            <div class="image-content">
                <img id="museum-img" src="photos/vintage car museum.jpeg" alt="Vintage Car Museum">
            </div>
        </div>
    </div>
    <div class="bottom">
        <div id="first">
            <div class="text-content">
                <h1 style="text-decoration: underline;">Mehrangarh Museum: Jodhpur</h1>
                <p id="museum-p">The Mehrangarh Museum, located within the majestic Mehrangarh Fort in Jodhpur, is one
                    of the largest
                    and most well-preserved museums in India. Established in the 1970s by Maharaja Umaid Singh, the
                    museum showcases a vast collection of artifacts, including armor, textiles, paintings, and
                    decorative arts from the Rajput era. The museum's exhibits are housed in the fort‚Äôs historical rooms
                    and offer insights into the royal heritage and culture of the region. The fort‚Äôs imposing
                    architecture and panoramic views of Jodhpur add to the museum‚Äôs allure. Mehrangarh Museum provides a
                    rich and immersive experience of Rajasthan‚Äôs royal history.</p>

                <h3 style="text-decoration: underline;">Contact Us:</h3>
                <p id="number">0291 254 8790</p>
                <div class="dropdown">
                    <button class="dropbtn">Timings</button>
                    <div class="dropdown-content">
                        <a href="#">Monday: 09:00 - 17:00</a>
                        <a href="#">Tuesday: 09:00 - 17:00</a>
                        <a href="#">Wednesday: 09:00 - 17:00</a>
                        <a href="#">Thursday: 09:00 - 17:00</a>
                        <a href="#">Friday: 09:00 - 17:00</a>
                        <a href="#">Satuday: 09:00 - 17:00</a>
                        <a href="#">Sunday: 09:00 - 17:00</a>
                    </div>
                </div>
                <br>
                <a href="https://maps.app.goo.gl/NR2L3z2iKZudrs9eA">üìç Directions</a>
            </div>
            <div class="image-content">
                <img id="museum-img" src="photos/mehrangarh museum.jpg" alt="Mehrangarh Museum">
            </div>
        </div>
    </div>
    <div class="bottom">
        <div id="first">
            <div class="text-content">
                <h1 style="text-decoration: underline;">Umaid Bhawan Palace Museum: Jodhpur</h1>
                <p id="museum-p">The Umaid Bhawan Palace Museum, located in the Umaid Bhawan Palace in Jodhpur, offers a
                    glimpse into
                    the opulent lifestyle of the Rathore dynasty. Built in the early 20th century by Maharaja Umaid
                    Singh, the palace itself is an architectural marvel of Indo-Saracenic style. The museum displays a
                    collection of royal memorabilia, including vintage cars, photos, and artifacts that reflect the
                    grandeur of the era. It also features artifacts related to the palace's history and the Maharaja's
                    contributions to Jodhpur. The museum provides a unique look at both the palace‚Äôs history and the
                    rich heritage of Rajasthan.</p>

                <h3 style="text-decoration: underline;">Contact Number:</h3>
                <p id="number">094144 78461</p>
                <div class="dropdown">
                    <button class="dropbtn">Timings</button>
                    <div class="dropdown-content">
                        <a href="#">Monday: 10:00 - 16:30</a>
                        <a href="#">Tuesday: 10:00 - 16:30</a>
                        <a href="#">Wednesday: 10:00 - 16:30</a>
                        <a href="#">Thursday: 10:00 - 16:30</a>
                        <a href="#">Friday: 10:00 - 16:30</a>
                        <a href="#">Satuday: 10:00 - 16:30</a>
                        <a href="#">Sunday: 10:00 - 16:30</a>
                    </div>
                </div>
                <br>
                <a href="https://maps.app.goo.gl/YY6rh18gnkCofh8e9">üìç Directions</a>
            </div>
            <div class="image-content">
                <img id="museum-img" src="photos/Umaid-Bhawan-Palace-in-Jodhpur-Rajasthan.jpg"
                    alt="Umaid Bhawan Palace Museum">
            </div>
        </div>
    </div>
    <div class="bottom">
        <div id="first">
            <div class="text-content">
                <h1 style="text-decoration: underline;">Rao Jodha Desert Rock Park: Jodhpur</h1>
                <p id="museum-p">Rao Jodha Desert Rock Park, located near Mehrangarh Fort in Jodhpur, is a unique
                    ecological project
                    dedicated to restoring and preserving the region's natural desert landscape. Established in 2006,
                    the park spans over 72 hectares and features a diverse range of arid and semi-arid flora. The park's
                    rocky terrain offers visitors scenic trails and viewpoints with panoramic views of Jodhpur. It also
                    serves as an educational center, highlighting the importance of desert ecosystems and conservation
                    efforts. Rao Jodha Desert Rock Park provides a tranquil escape and a chance to explore the natural
                    beauty of Rajasthan‚Äôs desert environment.</p>

                <h3 style="text-decoration: underline;">Contact Number:</h3>
                <p id="number">095712 71000</p>
                <div class="dropdown">
                    <button class="dropbtn">Timings</button>
                    <div class="dropdown-content">
                        <a href="#">Monday: 06:30 - 17:00</a>
                        <a href="#">Tuesday: 06:30 - 17:00</a>
                        <a href="#">Wednesday: 06:30 - 17:00</a>
                        <a href="#">Thursday: 06:30 - 17:00</a>
                        <a href="#">Friday: 06:30 - 17:00</a>
                        <a href="#">Satuday: 06:30 - 17:00</a>
                        <a href="#">Sunday: 06:30 - 17:00</a>
                    </div>
                </div>
                <br>
                <a href="https://maps.app.goo.gl/4m9LCgprGWz8XVLm8">üìç Directions</a>
            </div>
            <div class="image-content">
                <img id="museum-img" src="photos/rao jodha.jpg" alt="Rao Jodha Desert Rock Park">
            </div>
        </div>
    </div>



    </div>

    <script>
        function loadGoogleTranslate() {
            new google.translate.TranslateElement({ pageLanguage: 'en' }, 'google_element');
        }
    </script>
    <script src="https://translate.google.com/translate_a/element.js?cb=loadGoogleTranslate"></script>


    <script>
        let step = 0;
        let userName = '';
        let selectedCity = '';
        let selectedMuseum = '';
        let visitorType = '';
        let numberOfTickets = 0;
        let selectedDate = '';
        let selectedTime = '';
        const ticketPrices = { indian: 100, foreigner: 500 };

        function sendMessage() {
            const userInput = document.getElementById("user-input").value;
            if (userInput === "") return;

            appendMessage(userInput, 'user');
            document.getElementById("user-input").value = '';

            if (step === 0) {
                // Hide the name input after entering the name
                document.getElementById("nameInputContainer").style.display = "none";
            }

            setTimeout(() => {
                botReply(userInput);
            }, 500);
        }


        function appendMessage(text, sender) {
            const chatBox = document.getElementById("chat-box");
            const message = document.createElement("div");
            message.className = `message ${sender}`;
            message.innerText = text;
            chatBox.appendChild(message);
            chatBox.scrollTop = chatBox.scrollHeight;
        }

        function botReply(userInput = '') {
            let botMessage = '';

            switch (step) {
                case 0:
                    userName = userInput;
                    botMessage = `Nice to meet you, ${userName}. Which city would you like to book tickets for?`;
                    step++;
                    showElement('cityPrompt');
                    break;

                case 1:
                    selectedCity = document.getElementById('citySelect').value;
                    if (selectedCity) {
                        botMessage = `You've selected ${selectedCity.charAt(0).toUpperCase() + selectedCity.slice(1)}. Which museum would you like to visit?`;
                        step++;
                        updateMuseums();
                        showElement('museumPrompt');
                    }
                    break;
                case 2:
                    selectedMuseum = document.getElementById('museumSelect').value;
                    if (selectedMuseum) {
                        botMessage = `You've chosen ${selectedMuseum.replace(/_/g, ' ').toUpperCase()}. Are you an Indian or Foreigner?`;
                        step++;
                        showElement('visitorTypePrompt');
                    }
                    break;
                case 3:
                    visitorType = document.getElementById('visitorTypeSelect').value;
                    if (visitorType) {
                        botMessage = `You've selected ${visitorType.charAt(0).toUpperCase() + visitorType.slice(1)}. How many tickets would you like to book?`;
                        step++;
                        showElement('ticketPrompt');
                    }
                    break;
                case 4:
                    numberOfTickets = parseInt(document.getElementById('ticketSelect').value);
                    if (!isNaN(numberOfTickets) && numberOfTickets > 0) {
                        botMessage = `You've chosen ${numberOfTickets} tickets. Please select a date.`;
                        step++;
                        showElement('datePrompt');
                    }
                    break;
                case 5:
                    selectedDate = document.getElementById('dateSelect').value;
                    if (selectedDate) {
                        botMessage = `You've selected ${selectedDate}. Please choose a time slot.`;
                        step++;
                        showElement('timePrompt');
                    }
                    break;
                case 6:
                    selectedTime = document.getElementById('timeSelect').value;
                    if (selectedTime) {
                        calculatePrice();
                        botMessage = `You've chosen ${selectedTime}. The total price is ‚Çπ${ticketPrices[visitorType] * numberOfTickets}. Would you like to proceed with the payment?`;
                        step++;
                        showElement('paymentButtonContainer');
                    }
                    break;
                case 7:
                    botMessage = `Thank you, ${userName}! Your booking is confirmed.`;
                    step++;
                    document.getElementById('confirmationMessage').classList.remove('hidden');
                    break;
                default:
                    botMessage = "Your ticket has already been booked. Thank you!";
            }

            if (botMessage) {
                appendMessage(botMessage, 'bot');
            }
        }

        function updateMuseums() {
            const museumSelect = document.getElementById('museumSelect');
            museumSelect.innerHTML = ''; // Clear previous options

            const museums = {
                jaipur: ['--Select a Museum--', 'Albert Hall Museum', 'City Palace', 'Hawa Mahal'],
                udaipur: ['--Select a Museum--', 'City Palace Museum', 'Bagore Ki Haveli', 'Vintage Car Museum'],
                jodhpur: ['--Select a Museum--', 'Mehrangarh Museum', 'Umaid Bhawan Palace Museum', 'Rao Jodha Desert Rock Park']
            };

            museums[selectedCity].forEach(museum => {
                const option = document.createElement('option');
                option.value = museum.toLowerCase().replace(/ /g, '_');
                option.textContent = museum;
                museumSelect.appendChild(option);
            });
        }

        function calculatePrice() {
            const totalPrice = ticketPrices[visitorType] * numberOfTickets;
            const priceMessage = `The total price is ‚Çπ${totalPrice}.`;
            document.getElementById('priceMessage').innerText = priceMessage;
            showElement('priceDisplay');
        }

        function completePayment() {
            appendMessage("Processing your payment...", 'bot');
            setTimeout(() => {
                document.getElementById('paymentButtonContainer').classList.add('hidden');
                botReply();
            }, 1500); // Simulating payment process delay
        }

        function showElement(elementId) {
            document.getElementById(elementId).classList.remove('hidden');
        }
    </script>

    <script>
        function saveData() {
            const userData = {
                userName: document.getElementById('userName').value,
                selectedCity: document.getElementById('selectedCity').value,
                selectedMuseum: document.getElementById('selectedMuseum').value,
                visitorType: document.getElementById('visitorType').value,
                numberOfTickets: document.getElementById('numberOfTickets').value,
                selectedDate: document.getElementById('selectedDate').value,
                selectedTime: document.getElementById('selectedTime').value
            };

            localStorage.setItem('userData', JSON.stringify(userData));
            window.location.href = 'ticket.html'; // Redirect to ticket page
        }

        function saveData() {
            const userData = {
                userName: document.getElementById('userName').value,
                selectedCity: document.getElementById('selectedCity').value,
                selectedMuseum: document.getElementById('selectedMuseum').value,
                visitorType: document.getElementById('visitorType').value,
                numberOfTickets: document.getElementById('numberOfTickets').value,
                selectedDate: document.getElementById('selectedDate').value,
                selectedTime: document.getElementById('selectedTime').value
            };

            console.log(userData);  // Log the data to the console for debugging

            localStorage.setItem('userData', JSON.stringify(userData));
            window.location.href = 'ticket.html';  // Redirect to ticket page
        }

        function completePayment() {
            const userData = {
                userName,
                selectedCity,
                selectedMuseum,
                visitorType,
                numberOfTickets,
                selectedDate,
                selectedTime
            };

            // Save data to localStorage
            localStorage.setItem('userData', JSON.stringify(userData));

            // Simulating payment and redirect to ticket.html
            appendMessage("Processing your payment...", 'bot');
            setTimeout(() => {
                window.location.href = 'ticket.html'; // Redirect to ticket.html
            }, 1500);
        }
    </script>
</body>

</html>