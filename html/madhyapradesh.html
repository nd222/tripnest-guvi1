<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Museum Ticket Booking Chatbot</title>
    <link rel="stylesheet" href="mp-chatcss.css">
    <link href="https://db.onlinewebfonts.com/c/6bff5f8f85a7385fbdc21a8f724dd8ac?family=Rajasthan+Regular"
        rel="stylesheet">
    <style>
        .goog-te-gadget .goog-te-combo {
            margin: 4px 0;
            padding: 5px;
            border-radius: 20px;
        }

        #timing {
            margin-bottom: 10px;
        }

        .dropbtn {
            background-color: #04AA6D;
            color: white;
            padding: 10px;
            font-size: 16px;
            margin-bottom: 10px;
            border: none;
        }

        .dropdown {
            position: relative;
            display: inline-block;
        }

        .dropdown-content {
            display: none;
            position: absolute;
            background-color: #f1f1f1;
            min-width: 160px;
            box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);
            z-index: 1;
        }

        .dropdown-content a {
            color: black;
            min-width: 200px;
            padding: 0px;
            font-size: 15px;
            font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            text-decoration: none;
            display: block;
        }


        .dropdown:hover .dropdown-content {
            display: block;
        }
    </style>
</head>

<body>
    <div id="bg-img">
        <header>
            <div-1>
                <img id="logo" src="photos/logo1.png" alt="">
                <h1>ChatBot-Ticketing System </h1>
            </div-1>
            <div id="google_element"></div>

        </header>


        <div id="top">
            <div class="chat-container">
                <div id="chat-box" class="chat-box">
                    <div class="message bot">Hello! Welcome to our museum. What is your name?</div>
                </div>
                <div id="nameInputContainer">
                    <input type="text" id="user-input" placeholder="Enter your name..." autofocus>
                    <button onclick="sendMessage()">Send</button>
                </div>

                <div id="cityPrompt" class="hidden">
                    <label for="citySelect">Select City:</label>
                    <select id="citySelect" onchange="botReply()">
                        <option value="">--Select a City--</option>
                        <option value="Bhopal">Bhopal</option>
                        <option value="Indore">Indore</option>
                        <option value="Rewa">Rewa</option>
                        <option value="Vidisha">Vidisha</option>
                        <option value="Khajuraho">Khajuraho</option>
                    </select>
                </div>

                <div id="museumPrompt" class="hidden">
                    <label for="museumSelect">Select Museum:</label>
                    <select id="museumSelect" onchange="botReply()">
                        <!-- Options will be populated dynamically -->
                    </select>
                </div>

                <div id="visitorTypePrompt" class="hidden">
                    <label for="visitorTypeSelect">Are you an Indian or Foreigner?</label>
                    <select id="visitorTypeSelect" onchange="botReply()">
                        <option value="">--Select--</option>
                        <option value="indian">Indian</option>
                        <option value="foreigner">Foreigner</option>
                    </select>
                </div>

                <div id="ticketPrompt" class="hidden">
                    <label for="ticketSelect">Number of Tickets:</label>
                    <select id="ticketSelect" onchange="botReply()">
                        <option value="">--Select Number of Tickets--</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                        <option value="9">9</option>
                        <option value="10">10</option>
                    </select>
                </div>

                <div id="datePrompt" class="hidden">
                    <label for="dateSelect">Select Date:</label>
                    <input type="date" id="dateSelect" onchange="botReply()">
                </div>

                <div id="timePrompt" class="hidden">
                    <label for="timeSelect">Select Time Slot:</label>
                    <select id="timeSelect" onchange="botReply()">
                        <option value="">--Select Time Slot--</option>
                        <option value="09:00">09:00 AM</option>
                        <option value="11:00">11:00 AM</option>
                        <option value="14:00">02:00 PM</option>
                    </select>
                </div>

                <div id="priceDisplay" class="hidden">
                    <div id="priceMessage"></div>
                </div>

                <div id="paymentButtonContainer" class="hidden">
                    <button id="payButton" onclick="completePayment()">Complete Payment</button>
                </div>

                <div id="confirmationMessage" class="hidden">
                    <div class="message bot">Your ticket is booked. Thanks for visiting us!</div>
                    <a id='download' href="ticket.html">Download your ticket</a>
                </div>
            </div>

            <div class="right-text">
                <h1>MADHYA PRADESH</h1>
                <p>
                    Madhya Pradesh, located in the central part of India, is a state renowned for its rich history,
                    vibrant culture, and stunning landscapes. Known as the "Heart of India," Madhya Pradesh is home to
                    a vast array of temples, forts, and palaces, each echoing the grandeur of its royal past. The state
                    is famous for cities like Bhopal, Indore, Ujjain, and Gwalior, each offering a unique glimpse into
                    Madhya Pradesh's opulent history and architectural splendor.

                    <br>
                    <br>

                    Bhopal, the capital city of Madhya Pradesh, is famous for its stunning lakes, majestic palaces, and
                    temples.
                    The city is home to the iconic Bhimbetka rock shelters, a UNESCO World Heritage Site, and the
                    beautiful
                    Taj-ul-Masjid, one of the largest mosques in India.
                    <br>
                    <br>

                    Madhya Pradesh's rich history, vibrant culture, and stunning landscapes make it a popular tourist
                    destination,
                    attracting visitors from around the world, being the heart of India, is a melting pot of culinary
                    delights,
                    offering a diverse range of dishes that cater to various tastes and preferences. The state's cuisine
                    is a perfect
                    blend of traditional and modern flavors, with a strong influence of Mughal, Maratha, and
                    Bundelkhandi cuisines.
                </p>
            </div>
        </div>
    </div>

    <div class="bottom">
        <div id="first">
            <div class="text-content">
                <h1 style="text-decoration: underline;">The Madhya Pradesh State Museum: Bhopal</h1>
                <p id="museum-p">The Madhya Pradesh State Museum, located in Bhopal, is a popular tourist destination
                    and a significant
                    cultural institution in the state. The museum is situated on Shyamla Hills and is known for its
                    impressive architecture.
                    Established in 1909 , the museum was initially known as the Edward Museum and was later renamed as
                    the State Museum Bhopal
                    in 2005. The museum has a rich collection of art and cultural artifacts, including sculptures,
                    paintings, and manuscripts.
                    The collection includes ancient artifacts from the 8th to 12th centuries, as well as a Yakshini
                    statue from around 200 BC
                    and a black granite Buddha.</p>
                <h3 style="text-decoration: underline;">Contact Number:</h3>
                <p id="number">07552780600</p>
                <div class="dropdown">
                    <button class="dropbtn">Timings</button>
                    <div class="dropdown-content">
                        <a href="#">Monday: CLOSED!</a>
                        <a href="#">Tuesday: 10:00 - 17:30</a>
                        <a href="#">Wednesday: 10:00 - 17:30</a>
                        <a href="#">Thursday: 10:00 - 17:30</a>
                        <a href="#">Friday: 10:00 - 17:30</a>
                        <a href="#">Satuday: 10:30 - 17:30</a>
                        <a href="#">Sunday: 10:30 - 17:30</a>
                    </div>
                </div>
                <br>
                <a href="https://maps.app.goo.gl/rX9s45VG3ai9fugH6">üìç Directions</a>
            </div>
            <div class="image-content">
                <img id="museum-img" src="photos/The_Madhya_Pradesh_State_Museum_Bhopal.jpg"
                    alt="The Madhya Pradesh State Museum">
            </div>
        </div>
    </div>
    <div class="bottom">
        <div id="first">
            <div class="text-content">
                <h1 style="text-decoration: underline;">Indira Gandhi Rashtriya Manav Sangrahalaya: Bhopal</h1>
                <p id="museum-p">The Indira Gandhi Rashtriya Manav Sangrahalaya (IGRMS) in Bhopal is a prominent museum
                    dedicated to showcasing the diverse cultures and traditions of India. Established in 1985, it is
                    named after Indira Gandhi, the former Prime Minister of India, who was instrumental in its creation.
                    The museum's primary focus is on anthropological and ethnographic studies, providing insights into
                    the lifestyles, art, and traditions of various tribal communities across India.
                </p>
                <h3 style="text-decoration: underline;">Contact Number:</h3>
                <p id="number">07552661458</p>
                <div class="dropdown">
                    <button class="dropbtn">Timings</button>
                    <div class="dropdown-content">
                        <a href="#">Monday: CLOSED!</a>
                        <a href="#">Tuesday: 10:00 - 17:30</a>
                        <a href="#">Wednesday: 10:00 - 17:30</a>
                        <a href="#">Thursday: 10:00 - 17:30</a>
                        <a href="#">Friday: 10:00 - 17:30</a>
                        <a href="#">Satuday: 10:30 - 17:30</a>
                        <a href="#">Sunday: 10:30 - 17:30</a>
                    </div>
                </div>
                <br>
                 <a href="https://maps.app.goo.gl/GGgE8GvMtjPRVKnN8">üìç Directions</a>
            </div>
            <div class="image-content">

                <img id="museum-img" src="photos/Parol_Himalayan_Village_gate.jpg"
                    alt="Indira Gandhi Rashtriya Manav Sangrahalaya: Bhopal">
            </div>
        </div>
    </div>

    </div>
    </div>
    <div class="bottom">
        <div id="first">
            <div class="text-content">
                <h1 style="text-decoration: underline;">Central Museum: Indore</h1>
                <p id="museum-p">The Central Museum in Indore, also known as the Indore Museum, is one of the most
                    popular museums in the state of Madhya Pradesh, India. It was established in 1929 and is located
                    near the General Post Office in Indore.

                    The museum showcases a wide range of artifacts and exhibits that highlight the rich cultural
                    heritage and history of the region.The museum also has a library and a research center, which
                    provides access to a wide range of books, journals, and other resources for scholars and
                    researchers.</p>


                <h3 style="text-decoration: underline;">Contact Us:</h3></a>
                <p id="number">1800111363</p>
                <div class="dropdown">
                    <button class="dropbtn">Timings</button>
                    <div class="dropdown-content">
                        <a href="#">Monday: CLOSED!</a>
                        <a href="#">Tuesday: 10:00 - 17:30</a>
                        <a href="#">Wednesday: 10:00 - 17:30</a>
                        <a href="#">Thursday: 10:00 - 17:30</a>
                        <a href="#">Friday: 10:00 - 17:30</a>
                        <a href="#">Satuday: 10:30 - 17:30</a>
                        <a href="#">Sunday: 10:30 - 17:30</a>
                    </div>
                </div>
                <br>
                <a href="https://maps.app.goo.gl/F8MA2p61Jx6NiYVt5">üìç Directions</a>
            </div>
            <div class="image-content">
                <img id="museum-img" src="photos/central-museum-indore-min.jpg " alt="Central Museum: Indore">
            </div>
        </div>
    </div>
    <div class="bottom">
        <div id="first">
            <div class="text-content">
                <h1 style="text-decoration: underline;">Archaeological Museum: Khajuraho</h1>
                <p id="museum-p">The Archaeological Museum Khajuraho is a popular museum situated in Khajuraho, Madhya
                    Pradesh, India. It showcases a representative collection of sculptures and antiquities from the
                    Chandella Period, when Khajuraho was the capital city . The museum was initially established as the
                    Jardine Museum in 1910 by W.E. Jardine, the political agent of Bundelkhand, and was later renamed to
                    the Archaeological Museum in 1952.

                </p>

                <h3 style="text-decoration: underline;">Contact Us:</h3>
                <p id="number">04851254569</p>
                <div class="dropdown">
                    <button class="dropbtn">Timings</button>
                    <div class="dropdown-content">
                        <a href="#">Monday: CLOSED!</a>
                        <a href="#">Tuesday: 10:00 - 17:30</a>
                        <a href="#">Wednesday: 10:00 - 17:30</a>
                        <a href="#">Thursday: 10:00 - 17:30</a>
                        <a href="#">Friday: 10:00 - 17:30</a>
                        <a href="#">Satuday: 10:30 - 17:30</a>
                        <a href="#">Sunday: 10:30 - 17:30</a>
                    </div>
                </div>
                <br>

                <a href="https://maps.app.goo.gl/sB2ccQFeBp2CHTv96">üìç Directions</a>
            </div>
            <div class="image-content">
                <img id="museum-img" src="photos/Khajuraho.jpg" alt="Archaeological Museum: Khajuraho">
            </div>
        </div>
    </div>
    <div class="bottom">
        <div id="first">
            <div class="text-content">
                <h1 style="text-decoration: underline;">Royal Museum: Rewa</h1>
                <p id="museum-p">
                    The Rewa Royal Museum! That's a fascinating topic. The Rewa Royal Museum is a museum located in
                    Rewa, Madhya Pradesh, India. It's a treasure trove of art, history, and culture, showcasing the rich
                    heritage of the Rewa region.

                    The museum is housed in a beautiful building that was once the palace of the Maharajas of Rewa. It
                    was established in 1996 with the aim of preserving and promoting the cultural and artistic
                    traditions of the region.

                    The museum's collection includes a wide range of artifacts, such as sculptures, paintings,
                    manuscripts, and archaeological finds. Some of the notable exhibits include a 12th-century idol of
                    Lord Shiva, a 17th-century painting of the Rewa royal family, and a collection of ancient coins and
                    jewelry.
                </p>

                <h3 style="text-decoration: underline;">Contact Number:</h3>
                <p id="number">18002337777</p>
                <div class="dropdown">
                    <button class="dropbtn">Timings</button>
                    <div class="dropdown-content">
                        <a href="#">Monday: CLOSED!</a>
                        <a href="#">Tuesday: 10:00 - 17:30</a>
                        <a href="#">Wednesday: 10:00 - 17:30</a>
                        <a href="#">Thursday: 10:00 - 17:30</a>
                        <a href="#">Friday: 10:00 - 17:30</a>
                        <a href="#">Satuday: 10:30 - 17:30</a>
                        <a href="#">Sunday: 10:30 - 17:30</a>
                    </div>
                </div>
                <br>
                <a href="https://maps.app.goo.gl/6omgyoxGrYofL5i9A">üìç Directions</a>
            </div>
            <div class="image-content">
                <img id="museum-img" src="photos/Rewa.webp" alt="Royal Museum: Rewa">
            </div>
        </div>
    </div>
    <div class="bottom">
        <div id="first">
            <div class="text-content">
                <h1 style="text-decoration: underline;">Baghella Museum: Rewa</h1>
                <p id="museum-p">The Baghella Museum, located in Rewa, Madhya Pradesh, India, is a notable museum that
                    highlights the history and culture of the region. It's named after the Baghella dynasty, which ruled
                    parts of central India for centuries. The museum showcases a variety of artifacts, including
                    sculptures, paintings, and historical items related to the Baghella dynasty and the broader history
                    of Rewa.</p>

                <h3 style="text-decoration: underline;">Contact Number:</h3>
                <p id="number">07642962782</p>
                <div class="dropdown">
                    <button class="dropbtn">Timings</button>
                    <div class="dropdown-content">
                        <a href="#">Monday: CLOSED!</a>
                        <a href="#">Tuesday: 10:00 - 17:30</a>
                        <a href="#">Wednesday: 10:00 - 17:30</a>
                        <a href="#">Thursday: 10:00 - 17:30</a>
                        <a href="#">Friday: 10:00 - 17:30</a>
                        <a href="#">Satuday: 10:30 - 17:30</a>
                        <a href="#">Sunday: 10:30 - 17:30</a>
                    </div>
                </div>
                <br>
                <a href="https://maps.app.goo.gl/M47EPGADitWhF8UY9">üìç Directions</a>
            </div>
            <div class="image-content">
                <img id="museum-img" src="photos/Baghella.webp" alt="Baghella Museum: Rewa">
            </div>
        </div>
    </div>
    <div class="bottom">
        <div id="first">
            <div class="text-content">
                <h1 style="text-decoration: underline;">District Museum: Vidisha</h1>
                <p id="museum-p">The District Museum, located in Vidisha, Madhya Pradesh, India, is a treasure trove of
                    historical artifacts and cultural relics. It showcases a rich collection that includes sculptures,
                    inscriptions, and other archaeological finds from the region. The museum's exhibits primarily focus
                    on ancient Indian history, particularly from the periods of the Mauryan and post-Mauryan empires.
                    Vidisha itself is known for its historical importance, being a key center during ancient times and a
                    significant site for Buddhist, Jain, and Hindu heritage. The museum helps preserve and present this
                    rich history to visitors and researchers.
                </p>

                <h3 style="text-decoration: underline;">Contact Us:</h3>
                <p id="number">0291 254 8790</p>
                <div class="dropdown">
                    <button class="dropbtn">Timings</button>
                    <div class="dropdown-content">
                        <a href="#">Monday: CLOSED!</a>
                        <a href="#">Tuesday: 10:00 - 17:30</a>
                        <a href="#">Wednesday: 10:00 - 17:30</a>
                        <a href="#">Thursday: 10:00 - 17:30</a>
                        <a href="#">Friday: 10:00 - 17:30</a>
                        <a href="#">Satuday: 10:30 - 17:30</a>
                        <a href="#">Sunday: 10:30 - 17:30</a>
                    </div>
                </div>
                <br>
                <a href="https://maps.app.goo.gl/z1trZseAZQ6Dtmhr5">üìç Directions</a>
            </div>
            <div class="image-content">
                <img id="museum-img" src="photos/Vidisha.jpg" alt="District Museum: Vidisha">
            </div>
        </div>
    </div>

    <script>
        function loadGoogleTranslate() {
            new google.translate.TranslateElement({ pageLanguage: 'en' }, 'google_element');
        }
    </script>
    <script src="https://translate.google.com/translate_a/element.js?cb=loadGoogleTranslate"></script>

    <script>
        let step = 0;
        let userName = '';
        let selectedCity = '';
        let selectedMuseum = '';
        let visitorType = '';
        let numberOfTickets = 0;
        let selectedDate = '';
        let selectedTime = '';
        const ticketPrices = { indian: 100, foreigner: 500 };

        function sendMessage() {
            const userInput = document.getElementById("user-input").value;
            if (userInput === "") return;

            appendMessage(userInput, 'user');
            document.getElementById("user-input").value = '';

            if (step === 0) {
                // Hide the name input after entering the name
                document.getElementById("nameInputContainer").style.display = "none";
            }

            setTimeout(() => {
                botReply(userInput);
            }, 500);
        }

        function appendMessage(text, sender) {
            const chatBox = document.getElementById("chat-box");
            const message = document.createElement("div");
            message.className = `message ${sender}`;
            message.innerText = text;
            chatBox.appendChild(message);
            chatBox.scrollTop = chatBox.scrollHeight;
        }

        function botReply(userInput = '') {
            let botMessage = '';

            switch (step) {
                case 0:
                    userName = userInput;
                    botMessage = `Nice to meet you, ${userName}. Which city would you like to book tickets for?`;
                    step++;
                    showElement('cityPrompt');
                    break;

                case 1:
                    selectedCity = document.getElementById('citySelect').value;
                    if (selectedCity) {
                        botMessage = `You've selected ${selectedCity.charAt(0).toUpperCase() + selectedCity.slice(1)}. Which museum would you like to visit?`;
                        step++;
                        updateMuseums();
                        showElement('museumPrompt');
                    }
                    break;
                case 2:
                    selectedMuseum = document.getElementById('museumSelect').value;
                    if (selectedMuseum) {
                        botMessage = `You've chosen ${selectedMuseum.replace(/_/g, ' ').toUpperCase()}. Are you an Indian or Foreigner?`;
                        step++;
                        showElement('visitorTypePrompt');
                    }
                    break;
                case 3:
                    visitorType = document.getElementById('visitorTypeSelect').value;
                    if (visitorType) {
                        botMessage = `You've selected ${visitorType.charAt(0).toUpperCase() + visitorType.slice(1)}. How many tickets would you like to book?`;
                        step++;
                        showElement('ticketPrompt');
                    }
                    break;
                case 4:
                    numberOfTickets = parseInt(document.getElementById('ticketSelect').value);
                    if (!isNaN(numberOfTickets) && numberOfTickets > 0) {
                        botMessage = `You've chosen ${numberOfTickets} tickets. Please select a date.`;
                        step++;
                        showElement('datePrompt');
                    }
                    break;
                case 5:
                    selectedDate = document.getElementById('dateSelect').value;
                    if (selectedDate) {
                        botMessage = `You've selected ${selectedDate}. Please choose a time slot.`;
                        step++;
                        showElement('timePrompt');
                    }
                    break;
                case 6:
                    selectedTime = document.getElementById('timeSelect').value;
                    if (selectedTime) {
                        calculatePrice();
                        botMessage = `You've chosen ${selectedTime}. The total price is ‚Çπ${ticketPrices[visitorType] * numberOfTickets}. Would you like to proceed with the payment?`;
                        step++;
                        showElement('paymentButtonContainer');
                    }
                    break;
                case 7:
                    botMessage = `Thank you, ${userName}! Your booking is confirmed.`;
                    step++;
                    document.getElementById('confirmationMessage').classList.remove('hidden');
                    break;
                default:
                    botMessage = "Your ticket has already been booked. Thank you!";
            }

            if (botMessage) {
                appendMessage(botMessage, 'bot');
            }
        }

        function updateMuseums() {
            const museumSelect = document.getElementById('museumSelect');
            museumSelect.innerHTML = ''; // Clear previous options

            const museums = {
                Bhopal: ['--Select a Museum--', 'The Madhya Pradesh State Museum', 'Indira Gandhi Rashtriya Manav Sangrahalaya'],
                Indore: ['--Select a Museum--', 'Central Museum'],
                Rewa: ['--Select a Museum--', 'Royal Museum', 'Baghella Museum'],
                Vidisha: ['--Select a Museum--', 'District Museum'],
                Khajuraho: ['--Select a Museum--', 'Archaeological Museum']
            };

            museums[selectedCity].forEach(museum => {
                const option = document.createElement('option');
                option.value = museum.toLowerCase().replace(/ /g, '_');
                option.textContent = museum;
                museumSelect.appendChild(option);
            });
        }

        function calculatePrice() {
            const totalPrice = ticketPrices[visitorType] * numberOfTickets;
            const priceMessage = `The total price is ‚Çπ${totalPrice}.`;
            document.getElementById('priceMessage').innerText = priceMessage;
            showElement('priceDisplay');
        }

        function completePayment() {
            appendMessage("Processing your payment...", 'bot');
            setTimeout(() => {
                document.getElementById('paymentButtonContainer').classList.add('hidden');
                botReply();
            }, 1500); // Simulating payment process delay
        }

        function showElement(elementId) {
            document.getElementById(elementId).classList.remove('hidden');
        }
    </script>

    <script>
        function saveData() {
            const userData = {
                userName: document.getElementById('userName').value,
                selectedCity: document.getElementById('selectedCity').value,
                selectedMuseum: document.getElementById('selectedMuseum').value,
                visitorType: document.getElementById('visitorType').value,
                numberOfTickets: document.getElementById('numberOfTickets').value,
                selectedDate: document.getElementById('selectedDate').value,
                selectedTime: document.getElementById('selectedTime').value
            };

            localStorage.setItem('userData', JSON.stringify(userData));
            window.location.href = 'ticket.html'; // Redirect to ticket page
        }

        function saveData() {
            const userData = {
                userName: document.getElementById('userName').value,
                selectedCity: document.getElementById('selectedCity').value,
                selectedMuseum: document.getElementById('selectedMuseum').value,
                visitorType: document.getElementById('visitorType').value,
                numberOfTickets: document.getElementById('numberOfTickets').value,
                selectedDate: document.getElementById('selectedDate').value,
                selectedTime: document.getElementById('selectedTime').value
            };

            console.log(userData);  // Log the data to the console for debugging

            localStorage.setItem('userData', JSON.stringify(userData));
            window.location.href = 'ticket.html';  // Redirect to ticket page
        }

        function completePayment() {
            const userData = {
                userName,
                selectedCity,
                selectedMuseum,
                visitorType,
                numberOfTickets,
                selectedDate,
                selectedTime
            };

            // Save data to localStorage
            localStorage.setItem('userData', JSON.stringify(userData));

            // Simulating payment and redirect to ticket.html
            appendMessage("Processing your payment...", 'bot');
            setTimeout(() => {
                window.location.href = 'ticket.html'; // Redirect to ticket.html
            }, 1500);
        }
    </script>

</body>

</html>