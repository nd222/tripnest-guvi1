<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Museum Ticket Booking Chatbot</title>
    <link rel="stylesheet" href="chat_mizoram_css.css">
    <link href="https://db.onlinewebfonts.com/c/6bff5f8f85a7385fbdc21a8f724dd8ac?family=Rajasthan+Regular"
        rel="stylesheet">
    <style>
        .goog-te-gadget .goog-te-combo {
            margin: 4px 0;
            padding: 5px;
            border-radius: 20px;
        }

        #timing {
            margin-bottom: 15px;
        }
        .dropbtn {
            background-color: #04AA6D;
            color: white;
            padding: 10px;
            font-size: 16px;
            margin-bottom: 10px;
            border: none;
        }

        .dropdown {
            position: relative;
            display: inline-block;
        }

        .dropdown-content {
            display: none;
            position: absolute;
            background-color: #f1f1f1;
            min-width: 160px;
            box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);
            z-index: 1;
        }

        .dropdown-content a {
            color: black;
            min-width: 200px;
            padding: 0px;
            font-size: 15px;
            font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            text-decoration: none;
            display: block;
        }


        .dropdown:hover .dropdown-content {
            display: block;
        }

    </style>
</head>

<body>
    <div id="bg-img">
        <header>
            <div-1>
                <img id="logo" src="photos/logo1.png" alt="">
                <h1>ChatBot-Ticketing System </h1>
            </div-1>
            <div id="google_element"></div>

        </header>


        <div id="top">
            <div class="chat-container">
                <div id="chat-box" class="chat-box">
                    <div class="message bot">Hello! Welcome to our museum. What is your name?</div>
                </div>
                <div id="nameInputContainer">
                    <input type="text" id="user-input" placeholder="Enter your name..." autofocus>
                    <button onclick="sendMessage()">Send</button>
                </div>

                <div id="cityPrompt" class="hidden">
                    <label for="citySelect">Select City:</label>
                    <select id="citySelect" onchange="botReply()">
                        <option value="">--Select a City--</option>
                        <option value="aziwal">Aziwal</option>

                    </select>
                </div>

                <div id="museumPrompt" class="hidden">
                    <label for="museumSelect">Select Museum:</label>
                    <select id="museumSelect" onchange="botReply()">
                        <!-- Options will be populated dynamically -->
                    </select>
                </div>

                <div id="visitorTypePrompt" class="hidden">
                    <label for="visitorTypeSelect">Are you an Indian or Foreigner?</label>
                    <select id="visitorTypeSelect" onchange="botReply()">
                        <option value="">--Select--</option>
                        <option value="indian">Indian</option>
                        <option value="foreigner">Foreigner</option>
                    </select>
                </div>

                <div id="ticketPrompt" class="hidden">
                    <label for="ticketSelect">Number of Tickets:</label>
                    <select id="ticketSelect" onchange="botReply()">
                        <option value="">--Select Number of Tickets--</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                        <option value="9">9</option>
                        <option value="10">10</option>
                    </select>
                </div>

                <div id="datePrompt" class="hidden">
                    <label for="dateSelect">Select Date:</label>
                    <input type="date" id="dateSelect" onchange="botReply()">
                </div>

                <div id="timePrompt" class="hidden">
                    <label for="timeSelect">Select Time Slot:</label>
                    <select id="timeSelect" onchange="botReply()">
                        <option value="">--Select Time Slot--</option>
                        <option value="09:00">09:00 AM</option>
                        <option value="11:00">11:00 AM</option>
                        <option value="14:00">02:00 PM</option>
                    </select>
                </div>

                <div id="priceDisplay" class="hidden">
                    <div id="priceMessage"></div>
                </div>

                <div id="paymentButtonContainer" class="hidden">
                    <button id="payButton" onclick="completePayment()">Complete Payment</button>
                </div>

                <div id="confirmationMessage" class="hidden">
                    <div class="message bot">Your ticket is booked. Thanks for visiting us!</div>
                    <a id='download' href="ticket.html">Download your ticket</a>
                </div>
            </div>

            <div class="right-text">
                <h1>MIZORAM</h1>
                <p>
                    Mizoram, one of the northeastern states of India, is renowned for its picturesque landscapes,
                    vibrant culture, and distinct traditions. It shares borders with Myanmar to the east and south,
                    Bangladesh to the west, and the Indian states of Assam, Manipur, and Tripura. The name "Mizoram"
                    translates to "Land of the Mizos," reflecting the ethnic identity of its people, the Mizos, who are
                    the majority <br><br>

                    Aizawl, the state's capital, sits at an elevation of about 1,132 meters, offering a panoramic view
                    of the surrounding hills and valleys. Mizoram is known for its lush greenery, rolling hills, and
                    serene rivers, making it a haven for nature lovers. The state's tropical forests are home to a
                    variety of flora and fauna, including rare species like the Hoolock Gibbon and the Himalayan
                    <br><br>

                    Mizoram's cultural landscape is as vibrant as its natural beauty. The Mizo people have a rich
                    tradition of folk music and dances, such as the famous Cheraw (bamboo dance), performed during
                    festivals like Chapchar Kut and Mim Kut. The state has a high literacy rate and places a strong
                    emphasis on education. Predominantly Christian, Mizoram is known for its peaceful society and strong
                    sense of community. Its unique blend of natural beauty, cultural richness, and welcoming people
                    makes Mizoram a fascinating destination.
                </p>
            </div>
        </div>
    </div>

    <div class="bottom">
        <div id="first">
            <div class="text-content">
                <h1 style="text-decoration: underline;">Mizoram State Museum: Aizawl</h1>
                <p id="museum-p">The Mizoram State Museum is located in Aizawl, the capital of Mizoram. Established in
                    1977, the museum showcases the rich cultural heritage of the Mizo people, with exhibits on tribal
                    artifacts, historical relics, and traditional clothing. It has a wide collection of archaeological
                    objects, photographs, and handicrafts that reflect Mizoram's history and lifestyle. The museum is an
                    important center for preserving the state's indigenous culture. It attracts visitors interested in
                    learning about the history, art, and traditions of Mizoram.</p>
                <h3 style="text-decoration: underline;">Contact Number:</h3>
                <p id="number">03892 340936</p>
                <div class="dropdown">
                    <button class="dropbtn">Timings</button>
                    <div class="dropdown-content">
                        <a href="#">Monday: CLOSED!</a>
                        <a href="#">Tuesday: 10:00 - 17:30</a>
                        <a href="#">Wednesday: 10:00 - 17:30</a>
                        <a href="#">Thursday: 10:00 - 17:30</a>
                        <a href="#">Friday: 10:00 - 17:30</a>
                        <a href="#">Satuday: 10:30 - 17:30</a>
                        <a href="#">Sunday: 10:30 - 17:30</a>
                    </div>
                </div>
                <br>

                <a href="https://maps.app.goo.gl/syXAeKPxErmxxGZZA">üìç Directions</a>
            </div>
            <div class="image-content">
                <img id="museum-img" src="photos/Mizoram State Museum.jpg" alt="Mizoram State Museum">
            </div>
        </div>
    </div>

    <div class="bottom">
        <div id="first">
            <div class="text-content">
                <h1 style="text-decoration: underline;">Mizoram Science Centre:Aziwal
                </h1>
                <p id="museum-p">The Mizoram Science Centre, located in Aizawl, is an educational facility dedicated to
                    promoting scientific knowledge and curiosity among people, particularly students. It features
                    interactive exhibits and demonstrations on various scientific principles, ranging from physics and
                    biology to environmental science and astronomy. The center also conducts workshops, science fairs,
                    and outreach programs to engage the public in hands-on learning experiences. With its innovative
                    displays and activities, the Mizoram Science Centre plays a crucial role in making science
                    accessible and exciting for the youth of the state. It aims to foster a culture of scientific
                    inquiry and innovation in Mizoram.
                </p>
                <h3 style="text-decoration: underline;">Contact Number:</h3>
                <p id="number">070850 54583</p>
                <div class="dropdown">
                    <button class="dropbtn">Timings</button>
                    <div class="dropdown-content">
                        <a href="#">Monday: CLOSED!</a>
                        <a href="#">Tuesday: 10:00 - 17:30</a>
                        <a href="#">Wednesday: 10:00 - 17:30</a>
                        <a href="#">Thursday: 10:00 - 17:30</a>
                        <a href="#">Friday: 10:00 - 17:30</a>
                        <a href="#">Satuday: 10:30 - 17:30</a>
                        <a href="#">Sunday: 10:30 - 17:30</a>
                    </div>
                </div>
                <br>

                <a href="https://maps.app.goo.gl/LsDgVVksuT84dxJi7">üìç Directions</a>
            </div>
            <div class="image-content">
                <img id="museum-img" src="photos/Mizoram science centre.png" alt="Mizoram science centre">
            </div>
        </div>
    </div>

    </div>
    </div>
    <div class="bottom">
        <div id="first">
            <div class="text-content">
                <h1 style="text-decoration: underline;">Tribal Art Centre, Tanhril</h1>
                <p id="museum-p">The Tribal Art Centre in Tanhril, near Aizawl, is dedicated to showcasing and
                    preserving the traditional arts and crafts of Mizoram's tribal communities. It exhibits a variety of
                    indigenous handicrafts, including weaving, bamboo work, and traditional Mizo textiles. The center
                    provides a platform for local artisans to display their craftsmanship. It also helps visitors learn
                    about the cultural heritage of the Mizo people. The center plays an important role in promoting
                    tribal art and supporting local artisans.</p>


                <h3 style="text-decoration: underline;">Contact Us:</h3></a>
                <p id="number">0121 333 8548</p>
                <div class="dropdown">
                    <button class="dropbtn">Timings</button>
                    <div class="dropdown-content">
                        <a href="#">Monday: CLOSED!</a>
                        <a href="#">Tuesday: 10:00 - 17:30</a>
                        <a href="#">Wednesday: 10:00 - 17:30</a>
                        <a href="#">Thursday: 10:00 - 17:30</a>
                        <a href="#">Friday: 10:00 - 17:30</a>
                        <a href="#">Satuday: 10:30 - 17:30</a>
                        <a href="#">Sunday: 10:30 - 17:30</a>
                    </div>
                </div>
                <br>

                <a href="https://maps.app.goo.gl/csSNfYW2iW5f7rVG8">üìç Directions</a>
            </div>
            <div class="image-content">
                <img id="museum-img" src="photos/tribal art centre tanhrill.jpg" alt="tribal art centre">
            </div>
        </div>
    </div>


    <script>
        function loadGoogleTranslate() {
            new google.translate.TranslateElement({ pageLanguage: 'en' }, 'google_element');
        }
    </script>
    <script src="https://translate.google.com/translate_a/element.js?cb=loadGoogleTranslate"></script>


    <script>
        let step = 0;
        let userName = '';
        let selectedCity = '';
        let selectedMuseum = '';
        let visitorType = '';
        let numberOfTickets = 0;
        let selectedDate = '';
        let selectedTime = '';
        const ticketPrices = { indian: 100, foreigner: 500 };

        function sendMessage() {
            const userInput = document.getElementById("user-input").value;
            if (userInput === "") return;

            appendMessage(userInput, 'user');
            document.getElementById("user-input").value = '';

            if (step === 0) {
                // Hide the name input after entering the name
                document.getElementById("nameInputContainer").style.display = "none";
            }

            setTimeout(() => {
                botReply(userInput);
            }, 500);
        }


        function appendMessage(text, sender) {
            const chatBox = document.getElementById("chat-box");
            const message = document.createElement("div");
            message.className = `message ${sender}`;
            message.innerText = text;
            chatBox.appendChild(message);
            chatBox.scrollTop = chatBox.scrollHeight;
        }

        function botReply(userInput = '') {
            let botMessage = '';

            switch (step) {
                case 0:
                    userName = userInput;
                    botMessage = `Nice to meet you, ${userName}. Which city would you like to book tickets for?`;
                    step++;
                    showElement('cityPrompt');
                    break;

                case 1:
                    selectedCity = document.getElementById('citySelect').value;
                    if (selectedCity) {
                        botMessage = `You've selected ${selectedCity.charAt(0).toUpperCase() + selectedCity.slice(1)}. Which museum would you like to visit?`;
                        step++;
                        updateMuseums();
                        showElement('museumPrompt');
                    }
                    break;
                case 2:
                    selectedMuseum = document.getElementById('museumSelect').value;
                    if (selectedMuseum) {
                        botMessage = `You've chosen ${selectedMuseum.replace(/_/g, ' ').toUpperCase()}. Are you an Indian or Foreigner?`;
                        step++;
                        showElement('visitorTypePrompt');
                    }
                    break;
                case 3:
                    visitorType = document.getElementById('visitorTypeSelect').value;
                    if (visitorType) {
                        botMessage = `You've selected ${visitorType.charAt(0).toUpperCase() + visitorType.slice(1)}. How many tickets would you like to book?`;
                        step++;
                        showElement('ticketPrompt');
                    }
                    break;
                case 4:
                    numberOfTickets = parseInt(document.getElementById('ticketSelect').value);
                    if (!isNaN(numberOfTickets) && numberOfTickets > 0) {
                        botMessage = `You've chosen ${numberOfTickets} tickets. Please select a date.`;
                        step++;
                        showElement('datePrompt');
                    }
                    break;
                case 5:
                    selectedDate = document.getElementById('dateSelect').value;
                    if (selectedDate) {
                        botMessage = `You've selected ${selectedDate}. Please choose a time slot.`;
                        step++;
                        showElement('timePrompt');
                    }
                    break;
                case 6:
                    selectedTime = document.getElementById('timeSelect').value;
                    if (selectedTime) {
                        calculatePrice();
                        botMessage = `You've chosen ${selectedTime}. The total price is ‚Çπ${ticketPrices[visitorType] * numberOfTickets}. Would you like to proceed with the payment?`;
                        step++;
                        showElement('paymentButtonContainer');
                    }
                    break;
                case 7:
                    botMessage = `Thank you, ${userName}! Your booking is confirmed.`;
                    step++;
                    document.getElementById('confirmationMessage').classList.remove('hidden');
                    break;
                default:
                    botMessage = "Your ticket has already been booked. Thank you!";
            }

            if (botMessage) {
                appendMessage(botMessage, 'bot');
            }
        }

        function updateMuseums() {
            const museumSelect = document.getElementById('museumSelect');
            museumSelect.innerHTML = ''; // Clear previous options

            const museums = {
                aziwal: ['--Select a Museum--', 'Mizoram State Museum', 'Mizoram Science Centre', 'Tribal Art Centre ,Tanhrill'],

            };

            museums[selectedCity].forEach(museum => {
                const option = document.createElement('option');
                option.value = museum.toLowerCase().replace(/ /g, '_');
                option.textContent = museum;
                museumSelect.appendChild(option);
            });
        }

        function calculatePrice() {
            const totalPrice = ticketPrices[visitorType] * numberOfTickets;
            const priceMessage = `The total price is ‚Çπ${totalPrice}.`;
            document.getElementById('priceMessage').innerText = priceMessage;
            showElement('priceDisplay');
        }

        function completePayment() {
            appendMessage("Processing your payment...", 'bot');
            setTimeout(() => {
                document.getElementById('paymentButtonContainer').classList.add('hidden');
                botReply();
            }, 1500); // Simulating payment process delay
        }

        function showElement(elementId) {
            document.getElementById(elementId).classList.remove('hidden');
        }
    </script>

    </script>

    <script>
        function saveData() {
            const userData = {
                userName: document.getElementById('userName').value,
                selectedCity: document.getElementById('selectedCity').value,
                selectedMuseum: document.getElementById('selectedMuseum').value,
                visitorType: document.getElementById('visitorType').value,
                numberOfTickets: document.getElementById('numberOfTickets').value,
                selectedDate: document.getElementById('selectedDate').value,
                selectedTime: document.getElementById('selectedTime').value
            };

            localStorage.setItem('userData', JSON.stringify(userData));
            window.location.href = 'ticket.html'; // Redirect to ticket page
        }

        function saveData() {
            const userData = {
                userName: document.getElementById('userName').value,
                selectedCity: document.getElementById('selectedCity').value,
                selectedMuseum: document.getElementById('selectedMuseum').value,
                visitorType: document.getElementById('visitorType').value,
                numberOfTickets: document.getElementById('numberOfTickets').value,
                selectedDate: document.getElementById('selectedDate').value,
                selectedTime: document.getElementById('selectedTime').value
            };

            console.log(userData);  // Log the data to the console for debugging

            localStorage.setItem('userData', JSON.stringify(userData));
            window.location.href = 'ticket.html';  // Redirect to ticket page
        }

        function completePayment() {
            const userData = {
                userName,
                selectedCity,
                selectedMuseum,
                visitorType,
                numberOfTickets,
                selectedDate,
                selectedTime
            };

            // Save data to localStorage
            localStorage.setItem('userData', JSON.stringify(userData));

            // Simulating payment and redirect to ticket.html
            appendMessage("Processing your payment...", 'bot');
            setTimeout(() => {
                window.location.href = 'ticket.html'; // Redirect to ticket.html
            }, 1500);
        }
    </script>


</body>

</html>